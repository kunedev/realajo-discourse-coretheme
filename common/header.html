<!-- START OF HEADER section -->

<div class="background-container"></div>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css">


<script> 

// Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function () {
   // console.log("document ready");

    const toggleEl = document.querySelector(".header-sidebar-toggle");
    if (toggleEl) {
        console.log("header-sidebar-toggle found");
        addToggleListener(toggleEl);
    }
});

function addToggleListener(toggleEl) {
    if (toggleEl) {
    //    console.log("toggleEl found .. about to add event listener");

        toggleEl.addEventListener("click", function () {
            // Wait a bit for the sidebar to load
            setTimeout(function() {
                const sidebarIsVisible = document.getElementsByClassName("sidebar-section-header").length;

                if (sidebarIsVisible) {
                    // console.log("sidebarIsVisible is true, raising sidebarShown event");
                    raiseSidebarShownEvent();
                }
            }, 100);
        });
    }
}

function raiseSidebarShownEvent() {
   // console.log("raising sidebarShown event");
    
    const event = new CustomEvent("RWrapperEvent", {
        detail: { 
            eventReason: "sidebarShown",
        }
    });
    window.dispatchEvent(event);
    console.log("sidebarShown event raised");
}

</script>

<!-- END OF HEADER section -->
